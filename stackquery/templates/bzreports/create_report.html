{% extends 'base.html' %}

{% from 'common.html' import render_field %}

{% if request.endpoint.endswith('report_edit') %}
    {% set title = 'Stackquery - Edit report' %}
    {% set button_name = 'Edit report' %}
{% else %}
    {% set title = 'Stackquery - Create report' %}
    {% set button_name = 'Create report' %}
{% endif %}

{% block title %}{{ title }}{% endblock title%}

{% block java_script %}

<script type="text/javascript">
    $(function () {
        $('[data-toggle="tooltip"]').tooltip()
    })
</script>

{% endblock java_script %}

{% block main %}
<form method="POST">
        {{ render_field(form.name, **{'data-placement': 'right', 'data-toggle': 'tooltip', 'title': 'Name of the report'}) }}
        {{ render_field(form.url, **{'data-placement': 'right', 'data-toggle': 'tooltip', 'title': 'Url of the report. It can be the CSV url, or the Report url. The system will verify and manage properly.'}) }}
        {{ render_field(form.description, **{'data-placement': 'right', 'cols': 100, 'rows': 10, 'data-toggle': 'tooltip', 'title': 'Short description of the report'}) }}
    <p><br/><input type="submit" class="btn btn-primary" value="{{ button_name }}"></p>
</form>
{% endblock main %}